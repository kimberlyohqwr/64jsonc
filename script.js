/**
 * jasonpark.me - Jinseo Jason Park
 * @version v3.0.0
 * @link http://jasonpark.me/
 * @license MIT
 */
"use strict";function _toArray(e){return Array.isArray(e)?e:Array.from(e)}function _toConsumableArray(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}var _slicedToArray=function(){function e(e,r){var t=[],a=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);a=!0);}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();$(document).ready(function(){var e=$(".window"),r=$("#directory"),t=$("#browser"),a=$("#terminal"),n=e.find(".toolbar"),i=n.find(".button-container"),o=t.find(".iframe"),s=t.find(".addressbar"),c=$("#instagram").find(".embed-container"),l=$("html"),d=$(".label-clock"),u=$("a"),f=2,v=null,h=null,p=function(r){window.location.hash=r.data("last-hash"),e.removeClass("focus"),r.removeClass("minimize"),r.addClass("focus"),r.css("z-index",f++)},m=function(){var r=window.location.hash;if(r.endsWith("-")){var t=r.substring(0,r.length-1);return $(t).data("last-hash",null),void(window.location.hash=t)}var a=$(r);if(a.hasClass("window","open")){var n=a.data("last-hash");if(n&&n!==r)return void(window.location.hash=n)}var i=r;if(/^#?$/.test(i))e.removeClass("focus");else{$("a[href^='"+i+"-']").removeClass("active"),$("[id^='"+i.substring(1)+"-']").removeClass("open");for(var l=[i];;){var d=i.lastIndexOf("-");if(!~d)break;i=i.substring(0,d),l.unshift(i)}var u=$(i);u.data("last-hash",r),p(u);for(var f=null,v=0;v<l.length;v++){var h=l[v],m=$(h),y=$("a[href='"+h+"']");if(y.length&&(f=y.first()),v>0){var b=l[v-1];$("a[href^='"+b+"-']").removeClass("active"),$("[id^='"+b.substring(1)+"-']").removeClass("open")}y.addClass("active"),m.addClass("open")}switch(u.attr("id")){case"browser":var w=u.find(".tab-container");if(a.length)a[0].click();else{var g=$('<a class="tab open active"></a>');g.attr("id",r.substring(1)),g.attr("href",r);var k=f.data("url");g.data({url:k}),g.mousedown(function(e){return e.stopPropagation()});var C=$('<div class="icon"></div>'),x=$('<div class="name"></div>'),A=$('<a class="close" href="#"></a>');C.css("background-image","url("+f.data("image")+")"),x.text(f.data("name")),A.attr("href","#"),A.click(function(e){e.preventDefault();var r=g.hasClass("open"),t=g.prev()[0]||g.next()[0];if(g.remove(),r)if(t)t.click();else{var a=u.find(".button-close");_slicedToArray(a,1)[0].click()}}),g.append(C),g.append(x),g.append(A),g.click(function(){o.attr("src")!==k&&o.attr("src",k),s.find(".url").text(k)}),g.click(),w.append(g)}break;case"instagram":var j=u.find(".title-container");if(j.empty(),j.append('<div class="icon icon-instagram">'),j.append('<div class="name">Instagram</div>'),!a.length){var _=f.data("instagram");$.ajax({url:"https://api.instagram.com/oembed/",dataType:"jsonp",data:{url:"http://instagram.com/p/"+_+"/",omitscript:!0},success:function(e){c.attr("id","instagram-"+_),c.html(e.html),instgrm.Embeds.process(),c.addClass("open")}})}break;default:var T=u.find(".title-container");T.empty(),T.append(f.children().clone())}}};window.setTimeout(m,0),$(window).on("hashchange",m),i.click(function(){if(h){var e=$(this).find(".button-close");_slicedToArray(e,1)[0].click()}}),i.find(".button-close").click(function(e){var r=$(this).parents(".window"),t=r.attr("id");switch($("a[href='#"+t+"']").removeClass("active"),r.removeClass("open"),r.data("last-hash",null),r.attr("id")){case"terminal":H();break;case"browser":r.find(".tab-container").empty(),o.attr("src",null),s.find(".url").text(null)}}),i.find(".button-minimize").click(function(e){h||$(this).parents(".window").addClass("minimize")}),i.find(".button-maximize").click(function(e){h||(e.preventDefault(),$(this).parents(".window").toggleClass("maximize"))}),s.find(".button-refresh").click(function(e){e.preventDefault(),o.attr("src",o.attr("src"))}),s.find(".button-new").click(function(e){e.preventDefault(),window.open(o.attr("src"))}),$(".desktop").mousedown(function(){window.location.hash="#",e.removeClass("focus")}),e.mousedown(function(e){e.stopPropagation(),p($(this))});var y=function(e){var t=r.find(".panel.open .directory.active").last();switch(e.keyCode){case 38:var a=t.prev(":not(.directory-parent)"),n=_slicedToArray(a,1)[0];n&&n.click();break;case 40:var i=t.next(),o=_slicedToArray(i,1)[0];o&&o.click();break;case 37:var s=t.parents(".panel-container").prev().find(".panel.open .directory.active"),c=_slicedToArray(s,1)[0];c&&c.click();break;case 39:var l=t.parents(".panel-container").next().find(".panel.open .directory:not(.directory-parent)").first(),d=_slicedToArray(l,1)[0];d&&d.click()}},b={users:{jason:{desktop:{}}}},w=[];$("*").each(function(){var e=this.id;e&&w.push(e)});var g=!0,k=!1,C=void 0;try{for(var x,A=w[Symbol.iterator]();!(g=(x=A.next()).done);g=!0){var j=x.value,_=b.users.jason.desktop,T=j.split("-"),z=!0,I=!1,S=void 0;try{for(var O,P=T[Symbol.iterator]();!(z=(O=P.next()).done);z=!0){var D=O.value;_[D]||(_[D]={}),_=_[D]}}catch(e){I=!0,S=e}finally{try{!z&&P.return&&P.return()}finally{if(I)throw S}}}}catch(e){k=!0,C=e}finally{try{!g&&A.return&&A.return()}finally{if(k)throw C}}var W=null;$.get("/js/script.js",function(e){return W=e},"text");var J=null;$.get("/data/personal_statement.txt",function(e){return J=e},"text");var X=null,Y=[],E=0,M=null,N=null,V=null,H=function(){X=["users","jason","desktop"],M=!1,q(),B(!0)};window.setTimeout(H,0);var q=function(){N=!1,V=0},B=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=a.find(".line-container");e&&t.empty();var n=$('<div class="line">');if(r){var i=[].concat(_toConsumableArray(X));"users"===i[0]&&"jason"===i[1]&&i.splice(0,2,"~");var o=i.join("/")||"/";n.append("jason@world:"+o+"$ ")}return a.find(".cursor").removeClass("cursor"),n.append('<div class="letter cursor">'),t.append(n),n},F=function(e){var r=e?e.split("/"):[],t=[].concat(_toConsumableArray(X));""===r[0]?(t=[],r.shift()):"~"===r[0]&&(t=["users","jason"],r.shift());var a=!0,n=!1,i=void 0;try{for(var o,s=r[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value;switch(c){case"":case".":break;case"..":t.pop();break;default:t.push(c)}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}return t},G=function(e){var r=b,t=!0,a=!1,n=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)r=r[i.value]}catch(e){a=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw n}}return r},K=function(e){return"#"+e.slice(3).join("-")},L=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Array.isArray(e)||(e=[e]);var t=a.find(".line-container");e.forEach(function(e){var a=$('<div class="line">');r?a.html(e&&e.replace(/([.,?!"';]*\w*[.,?!"';]*\s*)/g,"<span>$1</span>").replace(/\{(.+)\}/g,'<div class="underline">$1</div>&nbsp;&nbsp;').replace(/\*(.+)\*/g,'<div class="highlight">$1</div>')):a.html(e),t.append(a)})},Q=function(e){var r=a.find(".cursor");if(R(r),void 0!==e){var t=Array.from(e),n=!0,i=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;"\n"===l?(B(!1,!1),r=a.find(".cursor")):r.before('<div class="letter">'+l+"</div>")}}catch(e){i=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(i)throw o}}}},R=function(e){e.prev().after(e)},U=function(e,r){return Object.keys(e[r]).length>0},Z=function(e){var r=_toArray(e.split(/\s+/)),t=r[0],n=r.slice(1),i=n.filter(function(e){return!e.startsWith("-")}),o=n.find(function(e){return e.startsWith("-")}),s=o?o.substring(1).split(""):[];switch(t){case"":break;case"help":L([" *help*            show all the possible commands"," *whoami* [-j]     display information about Jason"," *cd* {dir}        change the working directory"," *ls* {dir}        list directory contents"," *pwd*             return the working directory"," *rm* [-fr] {dir}  remove directory entries"," *open* {files}    open the files"," *clear*           clear the terminal screen"," *exit*            close the terminal window"," *hackertyper*     ?????"],!0);break;case"whoami":s.includes("j")?L(["*Jinseo Jason Park*",""].concat(_toConsumableArray(J.split("\n"))),!0):L(["*Jinseo Jason Park*","I am a developer, hackathoner, and backpacker.",'Type "*whoami -j*" to show my journey so far.'],!0);break;case"cd":var c=i.shift(),l=F(c),d=G(l);if(void 0===d){L("-bash: "+t+": "+c+": No such file or directory");break}if(0===Object.keys(d).length){L("-bash: "+t+": "+c+": Not a directory");break}X=[].concat(_toConsumableArray(l));break;case"ls":var u=i.shift(),f=F(u),v=G(f);if(void 0===v){L("-bash: "+t+": "+u+": No such file or directory");break}if(0===Object.keys(v).length){L('<div class="file">'+f.pop()+"</div>");break}L(Object.keys(v).map(function(e){return'<div class="'+(U(v,e)?"dir":"file")+'">'+e+"</div>"}));break;case"pwd":L("/"+X.join("/"));break;case"rm":var h=i.shift(),p=F(h),m=G(p);if(void 0===m){L("-bash: "+t+": "+h+": No such file or directory");break}if(Object.keys(m).length&&!s.includes("r")){L("-bash: "+t+": "+h+": Is a directory");break}var y=K(p);if("#"===y){if(!s.includes("f")){L("-bash: "+t+": "+h+": Permission denied (try again with -f)");break}$(".desktop").remove()}else $("a[href='"+y+"']").remove(),$("[id='"+y.substring(1)+"']").remove(),$("a[href^='"+y+"-']").remove(),$("[id^='"+y.substring(1)+"-']").remove();var b=p.pop();delete G(p)[b];break;case"open":var w=0,g=!0,k=!1,C=void 0;try{for(var x,A=i[Symbol.iterator]();!(g=(x=A.next()).done);g=!0){(function(){var e=x.value,r=F(e);if(void 0===G(r))return L("The file /"+r.join("/")+" does not exist."),"continue";"users"===r[0]&&"jason"===r[1]&&"desktop"===r[2]&&r.splice(0,3);var a="#"+r.join("-");if("#"===a||!$(a).length)return L("-bash: "+t+": "+e+": Permission denied"),"continue";window.setTimeout(function(){window.location.hash=a},w+=200)})()}}catch(e){k=!0,C=e}finally{try{!g&&A.return&&A.return()}finally{if(k)throw C}}break;case"clear":return void B(!0);case"exit":var j=a.find(".button-close");return void _slicedToArray(j,1)[0].click();case"hackertyper":if(W)return N=!0,void B(!0,!1);L("Error occurred while loading source code.");break;default:L("-bash: "+t+": command not found")}B();var _=a.find(".cursor");_slicedToArray(_,1)[0].scrollIntoView()},ee=function(e){var r=e.keyCode;switch(r){case 8:case 9:case 13:case 27:case 37:case 38:case 39:case 40:e.preventDefault()}if(!N||27===r){var t=a.find(".cursor"),n=t.prev(".letter"),i=t.next(".letter"),o=t.parents(".line");switch(r){case 8:n.length&&(n.remove(),R(t));break;case 9:if(!i.length){var s=o.children(".letter").text().split(/\s+/).pop(),c=s.lastIndexOf("/"),l=s.substring(0,c+1),d=s.substring(c+1),u=F(l),f=G(u);if(f){var v=Object.keys(f).filter(function(e){return e.startsWith(d)});if(1===v.length){var h=v[0].substring(d.length);Q(h)}else if(v.length>1){if(M){t.detach(),o.before(o.clone());var p=!0,m=!1,y=void 0;try{for(var b,w=v[Symbol.iterator]();!(p=(b=w.next()).done);p=!0){var g=b.value;o.before('<div class="line"><div class="'+(U(f,g)?"dir":"file")+'">'+g+"</div></div>")}}catch(e){m=!0,y=e}finally{try{!p&&w.return&&w.return()}finally{if(m)throw y}}t.appendTo(o)}M=!0}}}break;case 13:var k=o.children(".letter").text();Y.push(k),E=Y.length,Z(k);break;case 27:q(),B();break;case 37:n.length&&(n.addClass("cursor"),t.removeClass("cursor"));break;case 38:if(E>0){var $=Y[--E];t.detach(),o.find(".letter").remove(),o.append(t),Q($)}break;case 39:i.length&&(i.addClass("cursor"),t.removeClass("cursor"));break;case 40:if(E<Y.length){var C=Y[++E];t.detach(),o.find(".letter").remove(),o.append(t),Q(C)}}9!==r&&(M=!1),_slicedToArray(t,1)[0].scrollIntoView()}},re=function(e){var r=e.charCode||e.keyCode;if(3===r)q(),B();else if(r>=32)if(N){var t=1+(8*Math.random()|0),n=W.substr(V,t);n||(q(),B()),V+=t,Q(n)}else{var i=String.fromCharCode(r);Q(i)}var o=a.find(".cursor");_slicedToArray(o,1)[0].scrollIntoView()};$(document).keydown(function(e){r.hasClass("focus")?y(e):a.hasClass("focus")&&ee(e)}),$(document).keypress(function(e){a.hasClass("focus")&&re(e)}),e.each(function(e){var r=20+20*e,t=20+20*e;$(this).css({top:r,left:t})});var te=null,ae={},ne={};n.mousedown(function(e){h||1===e.which&&((te=$(this).parents(".window")).hasClass("maximize")||(te.addClass("moving"),ae=te.position(),ne.x=e.clientX,ne.y=e.clientY,$(document).mousemove(function(e){var r=e.clientX-ne.x,t=e.clientY-ne.y;ae.left+=r,ae.top+=t,ne.x=e.clientX,ne.y=e.clientY,te.css(ae)}),$(document).mouseup(function(){te.removeClass("moving"),$(document).off("mousemove"),$(document).off("mouseup")})))}),u.mousedown(function(e){e.stopPropagation()}),[[".border-left","left","width","x","clientX"],[".border-top","top","height","y","clientY"],[".border-right",null,"width","x","clientX"],[".border-bottom",null,"height","y","clientY"]].map(function(r){var t=_slicedToArray(r,5),a=t[0],n=t[1],i=t[2],o=t[3],s=t[4],c=null,l={},d={};e.find(a).mousedown(function(e){if(!h&&1===e.which&&!(c=$(this).parents(".window")).hasClass("maximize")){if(c.addClass("resizing"),n){var r=c.position();l[n]=r[n]}l[i]=c[i](),d[o]=e[s],$(document).mousemove(function(e){var r=e[s]-d[o];n?(l[n]+=r,l[i]-=r):l[i]+=r,d[o]=e[s],l.width<280||l.height<60||c.css(l)}),$(document).mouseup(function(){c.removeClass("resizing"),$(document).off("mousemove"),$(document).off("mouseup")})}})});var ie=function(){var e=function(e){return e<10?"0"+e:e},r=new Date,t=r.getHours(),a=r.getMinutes(),n=e(t%12||12)+":"+e(a)+" "+["AM","PM"][t/12|0];d.find(".name").text(n)};window.setInterval(ie,1e3),ie(),u.each(function(){$(this).attr("href").startsWith("#")||($(this).attr("target","_blank"),$(this).attr("rel","noopener"),$(this).addClass("link-external"))});var oe=function(){var e=document.body.clientWidth;h=!(v=e>512),l.toggleClass("desktop",v),l.toggleClass("mobile",h)};oe(),window.onresize=oe});