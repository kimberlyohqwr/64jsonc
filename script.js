/**
 * jasonpark.me - Jinseo Jason Park
 * @version v3.0.0
 * @link http://jasonpark.me/
 * @license MIT
 */
"use strict";function _toArray(e){return Array.isArray(e)?e:Array.from(e)}function _toConsumableArray(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}var _slicedToArray=function(){function e(e,r){var t=[],a=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);a=!0);}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();$(document).ready(function(){var e=$(".window"),r=$("#directory"),t=$("#browser"),a=$("#terminal"),n=e.find(".toolbar"),i=n.find(".button-container"),o=t.find(".iframe"),s=t.find(".addressbar"),c=$("#instagram").find(".embed-container"),l=$("html"),d=$(".label-clock"),u=$("a"),f=2,v=null,h=null,m=function(r){window.location.hash=r.data("last-hash"),e.removeClass("focus"),r.removeClass("minimize"),r.addClass("focus"),r.css("z-index",f++)},p=function(){var r=window.location.hash;if(r.endsWith("-")){var t=r.substring(0,r.length-1);return $(t).data("last-hash",null),void(window.location.hash=t)}var a=$(r);if(a.hasClass("window","open")){var n=a.data("last-hash");if(n&&n!==r)return void(window.location.hash=n)}var i=r;if(/^#?$/.test(i))e.removeClass("focus");else{$("a[href^='"+i+"-']").removeClass("active"),$("[id^='"+i.substring(1)+"-']").removeClass("open");for(var l=[i];;){var d=i.lastIndexOf("-");if(!~d)break;i=i.substring(0,d),l.unshift(i)}var u=$(i);u.data("last-hash",r),m(u);for(var f=null,v=0;v<l.length;v++){var h=l[v],p=$(h),y=$("a[href='"+h+"']");if(y.length&&(f=y.first()),v>0){var b=l[v-1];$("a[href^='"+b+"-']").removeClass("active"),$("[id^='"+b.substring(1)+"-']").removeClass("open")}y.addClass("active"),p.addClass("open")}switch(u.attr("id")){case"browser":var w=u.find(".tab-container");if(a.length)a[0].click();else{var g=$('<a class="tab open active"></a>');g.attr("id",r.substring(1)),g.attr("href",r);var k=f.data("url");g.data({url:k}),g.mousedown(function(e){return e.stopPropagation()});var C=$('<div class="icon"></div>'),x=$('<div class="name"></div>'),A=$('<a class="close" href="#"></a>');C.css("background-image","url("+f.data("image")+")"),x.text(f.data("name")),A.attr("href","#"),A.click(function(e){e.preventDefault();var r=g.hasClass("open"),t=g.prev()[0]||g.next()[0];if(g.remove(),r)if(t)t.click();else{var a=u.find(".button-close");_slicedToArray(a,1)[0].click()}}),g.append(C),g.append(x),g.append(A),g.click(function(){o.attr("src")!==k&&o.attr("src",k),s.find(".url").text(k)}),g.click(),w.append(g)}break;case"instagram":var j=u.find(".title-container");if(j.empty(),j.append('<div class="icon icon-instagram">'),j.append('<div class="name">Instagram</div>'),!a.length){var T=f.data("instagram");$.ajax({url:"https://api.instagram.com/oembed/",dataType:"jsonp",data:{url:"http://instagram.com/p/"+T+"/",omitscript:!0},success:function(e){c.attr("id","instagram-"+T),c.html(e.html),instgrm.Embeds.process(),c.addClass("open")}})}break;default:var _=u.find(".title-container");_.empty(),_.append(f.children().clone())}}};window.setTimeout(p,0),$(window).on("hashchange",p),i.click(function(){if(h){var e=$(this).find(".button-close");_slicedToArray(e,1)[0].click()}}),i.find(".button-close").click(function(e){var r=$(this).parents(".window"),t=r.attr("id");switch($("a[href='#"+t+"']").removeClass("active"),r.removeClass("open"),r.data("last-hash",null),r.attr("id")){case"terminal":J();break;case"browser":r.find(".tab-container").empty(),o.attr("src",null),s.find(".url").text(null)}}),i.find(".button-minimize").click(function(e){h||$(this).parents(".window").addClass("minimize")}),i.find(".button-maximize").click(function(e){h||(e.preventDefault(),$(this).parents(".window").toggleClass("maximize"))}),s.find(".button-refresh").click(function(e){e.preventDefault(),o.attr("src",o.attr("src"))}),s.find(".button-new").click(function(e){e.preventDefault(),window.open(o.attr("src"))}),$(".desktop").mousedown(function(){window.location.hash="#",e.removeClass("focus")}),e.mousedown(function(e){e.stopPropagation(),m($(this))});var y=function(e){var t=r.find(".panel.open .directory.active").last();switch(e.keyCode){case 38:var a=t.prev(),n=_slicedToArray(a,1)[0];n&&n.click();break;case 40:var i=t.next(),o=_slicedToArray(i,1)[0];o&&o.click();break;case 37:var s=t.parents(".panel-container").prev().find(".panel.open .directory.active"),c=_slicedToArray(s,1)[0];c&&c.click();break;case 39:var l=t.parents(".panel-container").next().find(".panel.open .directory").first(),d=_slicedToArray(l,1)[0];d&&d.click()}},b={users:{jason:{desktop:{}}}},w=[];$("*").each(function(){var e=this.id;e&&w.push(e)});var g=!0,k=!1,C=void 0;try{for(var x,A=w[Symbol.iterator]();!(g=(x=A.next()).done);g=!0){var j=x.value,T=b.users.jason.desktop,_=j.split("-"),I=!0,z=!1,S=void 0;try{for(var D,O=_[Symbol.iterator]();!(I=(D=O.next()).done);I=!0){var P=D.value;T[P]||(T[P]={}),T=T[P]}}catch(e){z=!0,S=e}finally{try{!I&&O.return&&O.return()}finally{if(z)throw S}}}}catch(e){k=!0,C=e}finally{try{!g&&A.return&&A.return()}finally{if(k)throw C}}var X=null;$.get("/js/script.js",function(e){return X=e},"text");var Y=null,E=[],M=0,W=null,N=null,V=null,J=function(){Y=["users","jason","desktop"],W=!1,K(),F(!0)};window.setTimeout(J,0);var K=function(){N=!1,V=0},F=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=a.find(".content");e&&t.empty();var n=$('<div class="line">');if(r){var i=[].concat(_toConsumableArray(Y));"users"===i[0]&&"jason"===i[1]&&i.splice(0,2,"~");var o=i.join("/")||"/";n.append("jason@world:"+o+"$ ")}return a.find(".cursor").removeClass("cursor"),n.append('<div class="letter cursor">'),t.append(n),n},H=function(e){var r=e?e.split("/"):[],t=[].concat(_toConsumableArray(Y));""===r[0]?(t=[],r.shift()):"~"===r[0]&&(t=["users","jason"],r.shift());var a=!0,n=!1,i=void 0;try{for(var o,s=r[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value;switch(c){case"":case".":break;case"..":t.pop();break;default:t.push(c)}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}return t},L=function(e){var r=b,t=!0,a=!1,n=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)r=r[i.value]}catch(e){a=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw n}}return r},q=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Array.isArray(e)||(e=[e]);var t=a.find(".content");e.forEach(function(e){var a=$('<div class="line">');a.html(e),r&&a.addClass("word-break"),t.append(a)})},B=function(e){var r=a.find(".cursor");if(G(r),void 0!==e){var t=Array.from(e),n=!0,i=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;"\n"===l?(F(!1,!1),r=a.find(".cursor")):r.before('<div class="letter">'+l+"</div>")}}catch(e){i=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(i)throw o}}}},G=function(e){e.prev().after(e)},Q=function(e,r){return Object.keys(e[r]).length>0},R=function(e){var r=_toArray(e.split(/\s+/)),t=r[0],n=r.slice(1);switch(t){case"":break;case"help":q([" help            show all the possible commands"," whoami          display information about jason"," cd [dir]        change the working directory"," ls [dir]        list directory contents"," pwd             return the working directory"," open [files]    open the files"," clear           clear the terminal screen"," exit            close the terminal window"," hackertyper     ?????"]);break;case"whoami":q(['<div class="highlight">Jinseo Jason Park</div>:',"I'm a web developer, hackathoner, and traveler.","I prefer leading a busy life, but also love to waste time having miscellaneous thoughts. Currently I am a highschool senior in Kansas and a remote working developer. During the break, I work for my company on site either in Lyon, France or in Seoul, Korea; and enjoy traveling the world. "],!0);break;case"cd":var i=n.shift(),o=H(i),s=L(o);if(void 0===s){q("-bash: "+t+": "+i+": No such file or directory");break}if(0===Object.keys(s).length){q("-bash: "+t+": "+i+": Not a directory");break}Y=[].concat(_toConsumableArray(o));break;case"ls":var c=n.shift(),l=H(c),d=L(l);if(void 0===d){q("-bash: "+t+": "+c+": No such file or directory");break}if(0===Object.keys(d).length){q('<div class="file">'+l.pop()+"</div>");break}q(Object.keys(d).map(function(e){return'<div class="'+(Q(d,e)?"dir":"file")+'">'+e+"</div>"}));break;case"pwd":q("/"+Y.join("/"));break;case"open":var u=0,f=!0,v=!1,h=void 0;try{for(var m,p=n[Symbol.iterator]();!(f=(m=p.next()).done);f=!0){(function(){var e=m.value,r=H(e);if(void 0===L(r))return q("The file /"+r.join("/")+" does not exist."),"continue";"users"===r[0]&&"jason"===r[1]&&"desktop"===r[2]&&r.splice(0,3);var a="#"+r.join("-");if("#"===a||!$(a).length)return q("-bash: "+t+": "+e+": Permission Denied"),"continue";window.setTimeout(function(){window.location.hash=a},u+=200)})()}}catch(e){v=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(v)throw h}}break;case"clear":return void F(!0);case"exit":var y=a.find(".button-close");return void _slicedToArray(y,1)[0].click();case"hackertyper":if(X)return N=!0,void F(!0,!1);q("Error occurred while loading source code.");break;default:q("-bash: "+t+": command not found")}F();var b=a.find(".cursor");_slicedToArray(b,1)[0].scrollIntoView()},U=function(e){var r=e.keyCode;switch(r){case 8:case 9:case 13:case 27:case 37:case 38:case 39:case 40:e.preventDefault()}if(!N||27===r){var t=a.find(".cursor"),n=t.prev(".letter"),i=t.next(".letter"),o=t.parents(".line");switch(r){case 8:n.length&&(n.remove(),G(t));break;case 9:if(!i.length){var s=o.children(".letter").text().split(/\s+/).pop(),c=s.lastIndexOf("/"),l=s.substring(0,c+1),d=s.substring(c+1),u=H(l),f=L(u);if(f){var v=Object.keys(f).filter(function(e){return e.startsWith(d)});if(1===v.length){var h=v[0].substring(d.length);B(h)}else if(v.length>1){if(W){t.detach(),o.before(o.clone());var m=!0,p=!1,y=void 0;try{for(var b,w=v[Symbol.iterator]();!(m=(b=w.next()).done);m=!0){var g=b.value;o.before('<div class="line"><div class="'+(Q(f,g)?"dir":"file")+'">'+g+"</div></div>")}}catch(e){p=!0,y=e}finally{try{!m&&w.return&&w.return()}finally{if(p)throw y}}t.appendTo(o)}W=!0}}}break;case 13:var k=o.children(".letter").text();E.push(k),M=E.length,R(k);break;case 27:K(),F();break;case 37:n.length&&(n.addClass("cursor"),t.removeClass("cursor"));break;case 38:if(M>0){var $=E[--M];t.detach(),o.find(".letter").remove(),o.append(t),B($)}break;case 39:i.length&&(i.addClass("cursor"),t.removeClass("cursor"));break;case 40:if(M<E.length){var C=E[++M];t.detach(),o.find(".letter").remove(),o.append(t),B(C)}}9!==r&&(W=!1),_slicedToArray(t,1)[0].scrollIntoView()}},Z=function(e){var r=e.charCode||e.keyCode;if(3===r)K(),F();else if(r>=32)if(N){var t=1+(8*Math.random()|0),n=X.substr(V,t);n||(K(),F()),V+=t,B(n)}else{var i=String.fromCharCode(r);B(i)}var o=a.find(".cursor");_slicedToArray(o,1)[0].scrollIntoView()};$(document).keydown(function(e){r.hasClass("focus")?y(e):a.hasClass("focus")&&U(e)}),$(document).keypress(function(e){a.hasClass("focus")&&Z(e)}),e.each(function(e){var r=20+20*e,t=20+20*e;$(this).css({top:r,left:t})});var ee=null,re={},te={};n.mousedown(function(e){h||1===e.which&&((ee=$(this).parents(".window")).hasClass("maximize")||(ee.addClass("moving"),re=ee.position(),te.x=e.clientX,te.y=e.clientY,$(document).mousemove(function(e){var r=e.clientX-te.x,t=e.clientY-te.y;re.left+=r,re.top+=t,te.x=e.clientX,te.y=e.clientY,ee.css(re)}),$(document).mouseup(function(){ee.removeClass("moving"),$(document).off("mousemove"),$(document).off("mouseup")})))}),u.mousedown(function(e){e.stopPropagation()}),[[".border-left","left","width","x","clientX"],[".border-top","top","height","y","clientY"],[".border-right",null,"width","x","clientX"],[".border-bottom",null,"height","y","clientY"]].map(function(r){var t=_slicedToArray(r,5),a=t[0],n=t[1],i=t[2],o=t[3],s=t[4],c=null,l={},d={};e.find(a).mousedown(function(e){if(!h&&1===e.which&&!(c=$(this).parents(".window")).hasClass("maximize")){if(c.addClass("resizing"),n){var r=c.position();l[n]=r[n]}l[i]=c[i](),d[o]=e[s],$(document).mousemove(function(e){var r=e[s]-d[o];n?(l[n]+=r,l[i]-=r):l[i]+=r,d[o]=e[s],l.width<280||l.height<60||c.css(l)}),$(document).mouseup(function(){c.removeClass("resizing"),$(document).off("mousemove"),$(document).off("mouseup")})}})});var ae=function(){var e=function(e){return e<10?"0"+e:e},r=new Date,t=r.getHours(),a=r.getMinutes(),n=e(t%12||12)+":"+e(a)+" "+["AM","PM"][t/12|0];d.find(".name").text(n)};window.setInterval(ae,1e3),ae(),u.each(function(){$(this).attr("href").startsWith("#")||($(this).attr("target","_blank"),$(this).attr("rel","noopener"),$(this).addClass("link-external"))});var ne=function(){var e=document.body.clientWidth;h=!(v=e>512),l.toggleClass("desktop",v),l.toggleClass("mobile",h)};ne(),window.onresize=ne});